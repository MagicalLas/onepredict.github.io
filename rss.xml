<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[Gatsby Starter Blog RSS Feed]]></title><description><![CDATA[Onepredict]]></description><link>http://onepredict.github.io</link><generator>GatsbyJS</generator><lastBuildDate>Thu, 28 Sep 2023 15:22:45 GMT</lastBuildDate><item><title><![CDATA[TypeScript로 API JSON Schema 테스트하기]]></title><description><![CDATA[기존에 발행된 글을
정리해서 다시 소개합니다.  API 테스트 도입 모든 개발자는 테스트 코드를 작성해 품질을 향상하려고 노력한다.
수많은 테스트 도구가 제공되고 있고, 다양한 방식으로 테스트를 진행하고 있다.
많은 테스트 방법 중에서 API Type…]]></description><link>http://onepredict.github.io/typescript-schema-test/</link><guid isPermaLink="false">http://onepredict.github.io/typescript-schema-test/</guid><pubDate>Fri, 29 Sep 2023 05:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://tech.onepredict.ai/7e578d89-4325-4ee2-9b62-e48b12b1e593&quot;&gt;기존에 발행된 글&lt;/a&gt;을
정리해서 다시 소개합니다. &lt;sup id=&quot;fnref-주1&quot;&gt;&lt;a href=&quot;#fn-주1&quot; class=&quot;footnote-ref&quot;&gt;주1&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;API 테스트 도입&lt;/h2&gt;
&lt;p&gt;모든 개발자는 테스트 코드를 작성해 품질을 향상하려고 노력한다.
수많은 테스트 도구가 제공되고 있고, 다양한 방식으로 테스트를 진행하고 있다.
많은 테스트 방법 중에서 API Type Schema 테스트를 도입한 부분에 대하여
정리하려고 한다.
앱을 개발할 때 타입스크립트로 타입에 관련된 에러는 컴파일 시점에, 타입 에러는
많이 잡을 수 있게 되었지만, 서버에 API를 호출하여 가져오는 데이터는 백앤드에서
설정한 모델을 보면서 개발을 진행해야 한다.
이때 만약 “별문제 없겠지”라는 마음으로 API Response Data 모델을 변경하거나
제거한 상태로 앱을 배포하면 어떻게 될까?&lt;/p&gt;
&lt;p&gt;앱은 변경된 API를 사용하는 곳에서 &lt;strong&gt;에러&lt;/strong&gt;를 낼 것이다. 😭&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;이 글에서 CI/CD는 GitHub Actions를 사용한다.&lt;/strong&gt;&lt;sup id=&quot;fnref-주2&quot;&gt;&lt;a href=&quot;#fn-주2&quot; class=&quot;footnote-ref&quot;&gt;주2&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;테스트 체계가 잘 잡혀있다면 QA나 다른 테스트에서 확인할 수 있지만,
테스트 관련 체계가 없다면 배포 이후에 오류 및 버그를 보고 다시 확인하여
재배포를 하게 되는 일이 자주 발생하게 된다.
배포되기 전에 테스트 Job을 추가하여 좀 더 안정성 있는 배포를 해보자는
생각이 들었다.&lt;/p&gt;
&lt;p&gt;이번 글에서는 언제든지 변할 수 있는 API Response 값과 스키마를 테스트하는
방법에 대하여 이야기하려고 한다.
Swagger로 표현된 API 모델을 이용해 &lt;strong&gt;TypeScript 파일을 자동 생성&lt;/strong&gt;하고,
생성된 파일을 이용하여 &lt;strong&gt;API Response Schema를 생성&lt;/strong&gt;하여 Ajv로 스키마와
값을 비교할 수 있는 &lt;strong&gt;Jest 테스트 코드를 작성하는 방법&lt;/strong&gt;에 대하여 알아보자.&lt;/p&gt;
&lt;h2&gt;테스트 Flow&lt;/h2&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d4d4ec669dad9b93918cb12be7e7e962/774b6/test-flow.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 8.860759493670885%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAIAAADXZGvcAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAeklEQVR42g3I0Q6CIAAAQP//vyprFmFAIQgKzIlZm9GklCS3e7rkwiykzQrxjhk3h2X8BFI9cdkR2RNxx7JX1sUY/TcI69dkZkDcUj0kGVanq85wfSQ1Na8p/Nw4HZDe59UOijSXG1AW6hHj8vbzTbsUynPRbgEHtP0DejVqNVH48BcAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Test Flow&quot;
        title=&quot;&quot;
        src=&quot;/static/d4d4ec669dad9b93918cb12be7e7e962/f058b/test-flow.png&quot;
        srcset=&quot;/static/d4d4ec669dad9b93918cb12be7e7e962/c26ae/test-flow.png 158w,
/static/d4d4ec669dad9b93918cb12be7e7e962/6bdcf/test-flow.png 315w,
/static/d4d4ec669dad9b93918cb12be7e7e962/f058b/test-flow.png 630w,
/static/d4d4ec669dad9b93918cb12be7e7e962/774b6/test-flow.png 738w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2&gt;OpenAPIGenerator&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;💡 Swagger UI는 Live Demo를 사용했다.
&lt;a href=&quot;https://petstore.swagger.io/?_ga=2.206759571.1629789658.1640134381-1349736674.1637807907#/pet/getPetById&quot;&gt;링크&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/ferdikoomen/openapi-typescript-codegen&quot;&gt;OpenAPI Typescript Codegen&lt;/a&gt;을
사용해, Swagger에서 정의한 모델을 TypeScript 코드로 만든다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; path &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;path&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; generate&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; HttpClient &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;openapi-typescript-codegen&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; specURL &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https://petstore.swagger.io/v2/swagger.json&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; outputPath &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;__dirname&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;../..&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;__apiTypesTemp__&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;swaggerModelGenerate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;generate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      input&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; specURL&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      output&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; outputPath&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      httpClient&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; HttpClient&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;AXIOS&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      exportCore&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      exportServices&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      exportModels&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      useOptions&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      useUnionTypes&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      exportSchemas&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token builtin&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;swaggerModelGenerate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;🚀 model 생성 완료&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;specURL&lt;/code&gt;: Swagger Basic Structure 파일(JSON or YAML) URL&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;outputPath&lt;/code&gt;: 모델 파일이 만들어질 위치&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;generate&lt;/code&gt;: SwaggerModel을 만드는 함수
&lt;ul&gt;
&lt;li&gt;매개변수
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;input&lt;/code&gt;: Swagger Basic Structure 정보&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;output&lt;/code&gt;: 파일이 만들어질 위치&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;httpClient&lt;/code&gt;: HTTP 클라이언트 (fetch / xhr / node / axios)&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;exportCore&lt;/code&gt;: Core 정보 생성 여부&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;exportService&lt;/code&gt;: Service 정보 생성 여부&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;exportModel&lt;/code&gt;: Model 정보 생성 여부
&lt;ul&gt;
&lt;li&gt;백앤드 정의한 Type Model를 가지고 TypeScript 파일을 생성하여
프론트앤드에서 사용한다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;useOptions&lt;/code&gt;: Argument 코드 스타일 규칙&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;useUnionTypes&lt;/code&gt;: TypeScript에서 enum 대신 Union Type 사용 여부&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;exportSchemas&lt;/code&gt;: 스키마 정보 생성 여부&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;ts-node&lt;/code&gt;를 사용하여 OpenAPIGenerator를 실행하면 output 경로에 파일이 생성된다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/f81c284a4cc631b77c17aeca81c693a5/c88ae/pet-model.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 47.46835443037975%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAABYlAAAWJQFJUiTwAAABx0lEQVR42mO4duvBlZsP7zx6efvhi9sPXty4+/zanSc37j69cf/Zh09f//379////+kzZlvau3oHR3n5BJuY2cYlpP4HA4ab958dPH7hwrV71+89vXzz0c59Z4+cvHT+6p2LNx6++/Dl37+/QEVd3X0CorLqtn42+sbK0oo+vkFQzUDbjp66dOHKnRv3nl29/fjIqStnL926eP3elduP4Zp7+yaJSiho2AbYG5nKy6r4BYTBNT8/fvba5ZsPb9x7CtR89vKdSzceXr/79OqdJ+8/wjT3ThQRl9e08TXVMxaVVPTzD4VqvvPwxZlLt4HagDYDnX3o+FWg/ovX7p2+eOv124///4P83NU7QV5axcre38LEUk5GKSAAphkYTkB7gOjanadXbj08dubKuat3L998cOH6g7fvP/8HBxjEZi27AFcTcx1FtUC4s+8+ennr/jOg44GmAMMcGH7X7z4BOufWgxcfPn+DOLsP6GdJRU37QCdjcxlZFf9AmOavX79+AeJv337++vX37z8gAgI448+fP0BF7R09XHziyoaOhqqavPxiLm4+UM3/8YK/f0E2nzx5avKUGUsWLFyyYPGcOQs2b94GkQUAttyNFPVxnmkAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Swagger Pet Model과 생성된 Model Type&quot;
        title=&quot;&quot;
        src=&quot;/static/f81c284a4cc631b77c17aeca81c693a5/f058b/pet-model.png&quot;
        srcset=&quot;/static/f81c284a4cc631b77c17aeca81c693a5/c26ae/pet-model.png 158w,
/static/f81c284a4cc631b77c17aeca81c693a5/6bdcf/pet-model.png 315w,
/static/f81c284a4cc631b77c17aeca81c693a5/f058b/pet-model.png 630w,
/static/f81c284a4cc631b77c17aeca81c693a5/40601/pet-model.png 945w,
/static/f81c284a4cc631b77c17aeca81c693a5/78612/pet-model.png 1260w,
/static/f81c284a4cc631b77c17aeca81c693a5/c88ae/pet-model.png 1541w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Category &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;./Category&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Tag &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;./Tag&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Pet&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    id&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    category&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Category&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    name&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    photoUrls&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    tags&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Tag&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/**
     * pet status in the store
     */&lt;/span&gt;
    status&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;available&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;pending&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;sold&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Swagger에서 정의한 Model 기반으로 TypeScript 코드가 자동으로 생성된 걸 확인할
수 있다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;💡 Swagger Model을 확실하게 정의하지 않은 상태라면 자동으로 생성된 파일을
수정해야 하는 경우가 발생하므로 백앤드와 함께 Model을 잘 맞추는 게 중요하다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;JsonSchemaGenerator&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/YousefED/typescript-json-schema&quot;&gt;typescript-json-schema&lt;/a&gt;를
사용해 Schema를 생성한다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;💡 &lt;a href=&quot;https://json-schema.org/draft-07/json-schema-release-notes.html&quot;&gt;JSON Schema Draft-07 스펙&lt;/a&gt;으로 생성한다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; path &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;path&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; fs &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;fs&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;TJS&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;typescript-json-schema&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; pipe &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;../../utils/pipe&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; getAllFiles &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;../../utils/fileFn&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;BASE_PATH&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;__dirname&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;../..&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; settings&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;TJS&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;PartialArgs &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  required&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; compilerOptions&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;TJS&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;CompilerOptions &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  strictNullChecks&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;


&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;getFiles&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getAllFiles&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;BASE_URL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;apiSchemaTypes&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; makeGenerator &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;file&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; IGenerator &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; program &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;TJS&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getProgramFromFiles&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;file&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; compilerOptions&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;BASE_URL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; generator &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;TJS&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;buildGenerator&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;program&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; settings&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    generator&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; generator &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;TJS&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;JsonSchemaGenerator&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    file&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;makeSymbols&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; generator&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; file &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; IGenerator&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; removePrefix &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; file&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;f&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; f&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;replace&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;STD.ts&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;.ts&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; filesStr &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; removePrefix&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;, &quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; symbols &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; generator&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getUserSymbols&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; schemas &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; symbols&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;symbol&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;filesStr&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;match&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;symbol&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; schemaFolderPath &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;__dirname&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;../../__schema__&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;fs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;existsSync&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;schemaFolderPath&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    fs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;mkdirSync&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;schemaFolderPath&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token builtin&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Schema 파일 변환을 시작합니다.&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  schemas&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;schema&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; schemaDefine &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; generator&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getSchemaForSymbol&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;schema&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; file &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stringify&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;schemaDefine&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    fs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;writeFileSync&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;schemaFolderPath&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;schema&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;Schema.json&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; file&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token builtin&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;파일변환종료&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;pipe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;getFiles&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; makeGenerator&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; makeSymbols&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;typescript-json-schema&lt;/code&gt;를 줄여서 TJS라 하겠다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;settings&lt;/code&gt;에서 TJS 셋팅 값을 셋팅한다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;compilerOptions&lt;/code&gt;에서 TJS 컴파일 옵션을 셋팅한다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;getFiles&lt;/code&gt; 함수는 &lt;code class=&quot;language-text&quot;&gt;apiSchemaTypes&lt;/code&gt; 디렉터리를 재귀적으로 탐색해서 스키마를
만들어야 하는 파일을 모두 찾는다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;makeGenerator&lt;/code&gt; 함수는 스키마 유형 정보를 얻고, 스키마 정보를 생성한다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;makeSymbols&lt;/code&gt; 함수는 &lt;code class=&quot;language-text&quot;&gt;symbols&lt;/code&gt;를 찾아 TJS로 스키마 정의로 변환하고,
&lt;code class=&quot;language-text&quot;&gt;__schema__&lt;/code&gt; 디렉터리 안에 &lt;code class=&quot;language-text&quot;&gt;Schema&lt;/code&gt; 접미어가 붙은 이름의 파일을 만든다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;스키마 정보도 추출했으니, 이제 API에서 받은 데이터 구조와 스키마를 비교해서
일치하는지 확인하는 작업만 추가하면 된다.&lt;/p&gt;
&lt;h2&gt;Jest + AJV validator&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://ajv.js.org/&quot;&gt;Ajv JSON schema validator&lt;/a&gt;를 사용해 Schema 파일과
API Response Data에 대한 검증을 진행한다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Default 값은 Draft-07이지만, 다른 버전을 사용할 수 있는 옵션이 있다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Ajv&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; JSONSchemaType &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;ajv&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;validate&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;JSC&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; data&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; object&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; ajv &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Ajv&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; allErrors&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// validate 메서드 호출시 오류는 덮어쓰므로 변수에 할당해서 사용해야 함.&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; valid &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ajv&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;validate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;JSC&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; 
  &lt;span class=&quot;token comment&quot;&gt;// errorText는 ajv-errors 설치하여 메시지는 따로 정의할 수 있다.&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; errorText &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ajv&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;errorsText&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    errorText&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    valid&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;valid&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;validate&lt;/code&gt; 함수는 파라미터 &lt;code class=&quot;language-text&quot;&gt;JSC&lt;/code&gt;로 위에서 생성한 JSON Schema를 받고,
&lt;code class=&quot;language-text&quot;&gt;data&lt;/code&gt;로 API Response Data를 받아 JSON Schema와 일치하는지 검사하며,
만약 error가 있다면 error에 대한 message를 리턴한다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이제 Jest를 사용해 테스트해 보자.&lt;/p&gt;
&lt;p&gt;Matchers는 Jest Expect에서 제공하는 유효성 검사 외의 다른 유효성 검사 추가해서
사용할 수 있도록 도와준다.&lt;/p&gt;
&lt;p&gt;JSON 스키마를 검사하는 `validate`` 함수를 Jest Expect에 추가한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;declare&lt;/span&gt; global &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;namespace&lt;/span&gt; jest &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Matchers&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;R&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
       &lt;span class=&quot;token function&quot;&gt;toMatchJSC&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;R&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;`toMatchJSC`` 함수를 Jest Extend로 추가한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; validate &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;../utils/validate&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; extendJSCMatcher &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  expect&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;extend&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;toMatchJSC&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;JSC&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; data&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; schemaValid &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;validate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;JSC&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; pass &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; schemaValid&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;valid&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; errorText &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; schemaValid&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;errorText&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;pass&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          pass&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token function-variable function&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;데이터 스키마 매칭 통과&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        pass&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token function-variable function&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;데이터 스키마 매칭 오류 &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;errorText&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Spec 파일을 만들어 스키마 테스트 코드를 작성한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; extendJSCMatcher &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;../../../jestExt&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; fetchPetId &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;../../../api/Pet/Pet&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; petSchema &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;../../../__schema__/StocksSchema&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;extendJSCMatcher&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// params&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;PET_ID&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Pet api Pet Group&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;pet/{petId} api&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;정상 처리(200)&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;PET_ID&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toEqual&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;fetchPetId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;PET_ID&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;petSchema&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toMatchJSC&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;먼저 &lt;code class=&quot;language-text&quot;&gt;extendJSCMatcher&lt;/code&gt; 함수를 호출한다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;fetch&lt;/code&gt;로 API를 호출하고, 응답으로 받은 &lt;code class=&quot;language-text&quot;&gt;data&lt;/code&gt;와 생성한 &lt;code class=&quot;language-text&quot;&gt;petSchema&lt;/code&gt;를 비교해
일치하는지 확인한다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;추가적으로 에러 / 필수 파라미터  / 잘못된 파라미터 값 등을 좀더 디테일하게
작업하면 조금 더 타이트하게 체크할 수 있다.&lt;/p&gt;
&lt;p&gt;WebStorm(IDE)에서 테스트를 실행해 보면, 다음과 같이 보인다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/944443248b22072c6a21e1ee01c67f41/f98ee/webstorm-test-result.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 43.67088607594937%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB1ElEQVR42mOIS8pJzSpLzalIyiiOSciITcxKSM3zD45eu37z////+yfPSE4vyS1tAqLsovrkjILU7OK0vPKohIyVazYwqOjoG5jZ6hhaK6rqKajqqGgZqhpaC0kqTJ46E6g5MSlNUVlRz8RcRctIVkFNWk5ZQVVbXstQUFSqpa2TQUFV08TGztzaSd/YUlVTX0lNW01TT1RSYdqM2UDNKSk5ckoadg621vbuBqZ26rqmShr6alqGUgqa3f1TGGTkVZQ1tQ0tbSxsndW1DRRUNFU19YTEpCdPnQHUnJSep26dZOmT7x5W5BVdbe1XaOSea+pZoOOQPnXeegZpeRUlVW2gHkVVLQgCauYXkZwwaSrY2ZkSsqoqmgaKqjqKajpK6npApKplKCat1N7VyyCrqKasrgN0LRypaekLiEpNnAzSHJuQLC6joKIBV6AFRKqauqJScu2dPQwyCqpAUbi1aDbHxCeJSSkATUdWoKKhKyIp19bRwyAhoyinpC6rCERqEASU5uYX7ZswGag5KjZRREIWKCKvrAFUBkFArqCodGt7F8OBg4dOnjp96vRZIAlBp06fOXLs+JMnT4GaL12+AlRw5uy5M2fPnz5zFo5OnDz16PETAMistz+kC/IJAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;테스트 통과, 테스트 실패&quot;
        title=&quot;&quot;
        src=&quot;/static/944443248b22072c6a21e1ee01c67f41/f058b/webstorm-test-result.png&quot;
        srcset=&quot;/static/944443248b22072c6a21e1ee01c67f41/c26ae/webstorm-test-result.png 158w,
/static/944443248b22072c6a21e1ee01c67f41/6bdcf/webstorm-test-result.png 315w,
/static/944443248b22072c6a21e1ee01c67f41/f058b/webstorm-test-result.png 630w,
/static/944443248b22072c6a21e1ee01c67f41/40601/webstorm-test-result.png 945w,
/static/944443248b22072c6a21e1ee01c67f41/78612/webstorm-test-result.png 1260w,
/static/944443248b22072c6a21e1ee01c67f41/f98ee/webstorm-test-result.png 1808w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;테스트가 실패하면 아래와 같은 메시지가 발생하게 된다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 348px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/a8a808ed02767943b69ff812fd7fd922/34ea4/error-message.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 10.759493670886075%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAIAAADXZGvcAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAXUlEQVR42hWMWw6AIAzAPJOgbIM9BU28/4Gcn23SbvUQpwuaCsUjN2MQ2OKV+OozwNeYiiHggpE40DtYmr3wVqoweDulg0ef1AxPVYr+L2aOLEuKNBkw2kBLmVgqf9oJHJgaZziiAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;에러 메시지&quot;
        title=&quot;&quot;
        src=&quot;/static/a8a808ed02767943b69ff812fd7fd922/34ea4/error-message.png&quot;
        srcset=&quot;/static/a8a808ed02767943b69ff812fd7fd922/c26ae/error-message.png 158w,
/static/a8a808ed02767943b69ff812fd7fd922/6bdcf/error-message.png 315w,
/static/a8a808ed02767943b69ff812fd7fd922/34ea4/error-message.png 348w&quot;
        sizes=&quot;(max-width: 348px) 100vw, 348px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2&gt;GitHub Actions Job 등록&lt;/h2&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;package.json&lt;/code&gt; 파일에 &lt;code class=&quot;language-text&quot;&gt;test&lt;/code&gt; script 명령어를 추가하고, GitHub Actions Workflow
파일(&lt;code class=&quot;language-text&quot;&gt;.github/workflows/ci.yaml&lt;/code&gt;)에 Step으로 등록하면 된다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/daf25d28ade33f9f01c4d75677d96dc0/5819f/github-workflow.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 61.39240506329114%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAABeElEQVR42o2SaU+EMBCG/WoWlpteQLe0RdhSWMA9lNUP/v8f5SweWY1Rk8lkms6bOZ65CZLMDXExNFgqJrtM92SzjZkK0tzxkRvgX+wGxI6H4oyzpuL1xJv7anwW5hikxd9iP2aQ5KcUqzLCIskqlN85fup46e/KRZww18deSLJWi27Q4yzMgfAaRiBiS0tDhGHSYt5QYWCiNK/8JHeXppa2A3y7TlNRiXEvdgemd0R1EZXwvQ7JlVHwLthn5XXCipi1jPdV89if5+H50B57Jv0AOe9JaLHr4EPsxFRGbOLlwZqzPc3dcZLtkzRRzFb/2fbqsu28HKzuZmVPuephMA8Q/hNVQLLcGtmd82qg0ka0XDiRr9nkJ1QeCmmGlUJZjYo6psoNKaBaeRdgb9iWZwLxt8oXzl5EaauZ1cRI0kimt0U1wsFI+6D6c2kfinpKmPZhlmtxuJwhMODjVs6W79pNP4huUv3c7F/AA2eAjDcN4jWc3fXCXwH6EUhGcmCHMwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;GitHub Actions Workflow 파일&quot;
        title=&quot;&quot;
        src=&quot;/static/daf25d28ade33f9f01c4d75677d96dc0/f058b/github-workflow.png&quot;
        srcset=&quot;/static/daf25d28ade33f9f01c4d75677d96dc0/c26ae/github-workflow.png 158w,
/static/daf25d28ade33f9f01c4d75677d96dc0/6bdcf/github-workflow.png 315w,
/static/daf25d28ade33f9f01c4d75677d96dc0/f058b/github-workflow.png 630w,
/static/daf25d28ade33f9f01c4d75677d96dc0/40601/github-workflow.png 945w,
/static/daf25d28ade33f9f01c4d75677d96dc0/5819f/github-workflow.png 1042w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;GitHub Actions를 실행하여 배포를 하게 되면 빌드하기 전에 API schema 테스트가
먼저 진행되고, 만약 변경된 schema 정보가 있다면 error가 발생하며 어떤 API에
schema정보가 잘못 되었는지 확인할 수 있다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/fdfb1690c8b2fe5e2dc9a901ebdede69/387f2/github-actions-failed.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 32.911392405063296%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAs0lEQVR42pWQiQrCMBBEo/bInWbTpG1qref//6IjCoV6gPAIA3tkZ5h27a6SoKjVb9BTS+tCb3zSTeTaMxc6aXwlzLYUf4FdLKSR0qhs4Krh+oXQi/6GMJ5Nx1vMM5RyQRqCeKD9SqC0Av8xSx2l3LQDxQwnyhIswBuA4MrhLbl+P3tTcIYDjI/A+oRJrMQA4lm8leKZ1gqUGLrzfB0Ol2E6g35/SnlGCgjSUgI4r5bu4/Ad2mETCKhxH3MAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;GitHub Actions Schema Test Error&quot;
        title=&quot;&quot;
        src=&quot;/static/fdfb1690c8b2fe5e2dc9a901ebdede69/f058b/github-actions-failed.png&quot;
        srcset=&quot;/static/fdfb1690c8b2fe5e2dc9a901ebdede69/c26ae/github-actions-failed.png 158w,
/static/fdfb1690c8b2fe5e2dc9a901ebdede69/6bdcf/github-actions-failed.png 315w,
/static/fdfb1690c8b2fe5e2dc9a901ebdede69/f058b/github-actions-failed.png 630w,
/static/fdfb1690c8b2fe5e2dc9a901ebdede69/40601/github-actions-failed.png 945w,
/static/fdfb1690c8b2fe5e2dc9a901ebdede69/78612/github-actions-failed.png 1260w,
/static/fdfb1690c8b2fe5e2dc9a901ebdede69/387f2/github-actions-failed.png 1518w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2&gt;결론&lt;/h2&gt;
&lt;p&gt;프론트엔드에서 받는 API Response Data에 관련된 타입은 Swagger Model에 맞춰
자동으로 TypeScript 파일로 생성되기 때문에, API가 추가되더라도 타입 작성에
대한 고민이 사라졌고, 백앤드에서 API를 긴급 패치 하더라도
API Schema Validate를 통해 확인되기 때문에 Key/Type 변경 및 API 제거 등을
확인할 수 있게 됐다.
또 변경된 API Schema 정보를 알고 있어서, 관련 화면에 대한 테스트도 가능하여
더 빠르게 상황에 대처할 수 있게 되었다.&lt;/p&gt;
&lt;div class=&quot;footnotes&quot;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&quot;fn-주1&quot;&gt;2022년 1월 12일, 원프레딕트 기술 블로그에 발행된 글.&lt;a href=&quot;#fnref-%EC%A3%BC1&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;
&lt;li id=&quot;fn-주2&quot;&gt;2023년 9월 기준으로 원프레딕트는 GitLab CI/CD를 사용하고 있습니다.&lt;a href=&quot;#fnref-%EC%A3%BC2&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;</content:encoded></item><item><title><![CDATA[JavaScript의 using을 사용해 보자 - Part 2]]></title><description><![CDATA[글 목록 JavaScript의 using을 사용해 보자 - Part 1 JavaScript의 using을 사용해 보자 - Part 2 Intro 지난 글에서 예고한 대로 TypeScript…]]></description><link>http://onepredict.github.io/using-keyword-part2/</link><guid isPermaLink="false">http://onepredict.github.io/using-keyword-part2/</guid><pubDate>Wed, 27 Sep 2023 05:00:00 GMT</pubDate><content:encoded>&lt;h3&gt;글 목록&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;&lt;a href=&quot;/using-keyword/&quot;&gt;JavaScript의 using을 사용해 보자 - Part 1&lt;/a&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;JavaScript의 using을 사용해 보자 - Part 2&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h1&gt;Intro&lt;/h1&gt;
&lt;p&gt;지난 글에서 예고한 대로 TypeScript를 이용해, &lt;code class=&quot;language-text&quot;&gt;using&lt;/code&gt;을 명시적으로 사용해 보겠습니다. 리소스를 관리하는 방식을 &lt;code class=&quot;language-text&quot;&gt;using&lt;/code&gt;을 이용하여 작성해 보겠습니다.&lt;/p&gt;
&lt;h3&gt;동기에 대한 명시적 선언&lt;/h3&gt;
&lt;p&gt;다음은 명시적으로 &lt;code class=&quot;language-text&quot;&gt;Symbol.dispose&lt;/code&gt;를 이용하여, 동기 코드에 대해서 종료 함수를 선언하는 방법입니다. &lt;code class=&quot;language-text&quot;&gt;using&lt;/code&gt;이 선언된 블록이 종료되면, 명시된 &lt;code class=&quot;language-text&quot;&gt;Symbol.dispose&lt;/code&gt;에 할당된 함수를 실행합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;getResource&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Symbol&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;dispose&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;using 종료.&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  using fileHandler &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getResource&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 종료 후, [Symbol.dispose] 실행.&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// using 종료. 출력&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;비동기에 대한 명시적 선언&lt;/h3&gt;
&lt;p&gt;다음은 명시적으로 &lt;code class=&quot;language-text&quot;&gt;Symbol.asyncDispose&lt;/code&gt;를 이용하여, 비동기 코드에 대해서 종료 함수를 선언하는 방법입니다. top-level에서 &lt;code class=&quot;language-text&quot;&gt;await&lt;/code&gt;를 사용하는 모습이 약간은 어색해 보입니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;getResource&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Symbol&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;asyncDispose&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;asyncSomethingFunc&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; using fileHandler &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getResource&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;1편으로 돌아가보기&lt;/h2&gt;
&lt;p&gt;1편에서 우리는 데이터베이스 연결에 대한 이야기를 나누어 보았습니다. 지금까지 &lt;code class=&quot;language-text&quot;&gt;using&lt;/code&gt;에 대해서 이야기한 것을 바탕으로 &lt;code class=&quot;language-text&quot;&gt;using&lt;/code&gt;을 이용하여 데이터베이스 연결을 관리해 보겠습니다.&lt;/p&gt;
&lt;h3&gt;getPosts 함수 내부 들여다 보기&lt;/h3&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;using&lt;/code&gt;을 쓰지 않는 경우&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; db

&lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  db &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;connectToDatabase&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; collection &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; db&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;collection&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;posts&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; posts &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; collection&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;limit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toArray&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; posts
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;error&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;error&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;finally&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; db&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;using&lt;/code&gt;을 쓰는 경우&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;getConnection&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; connection &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;connectToDatabase&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    connection&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Symbol&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;asyncDispose&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; connection&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; using db &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getConnection&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; collection &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; db&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;collection&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;posts&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; posts &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; collection&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;limit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toArray&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; posts
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;위 코드를 보면 &lt;code class=&quot;language-text&quot;&gt;try...catch...finally&lt;/code&gt;로 연결되는 블록을 &lt;code class=&quot;language-text&quot;&gt;using&lt;/code&gt;을 활용해서 명시적으로 컨트롤할 수 있게 변경된 것을 볼 수 있습니다.&lt;/p&gt;
&lt;h2&gt;실제 폴리필은 어떻게 이루어 질까?&lt;/h2&gt;
&lt;h3&gt;폴리필&lt;/h3&gt;
&lt;p&gt;단계를 분리하여 함수별로 확인해 보겠습니다.&lt;/p&gt;
&lt;p&gt;크게 3가지의 단계로 진행됩니다.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;이미 정의된 &lt;code class=&quot;language-text&quot;&gt;Symbol&lt;/code&gt;객체&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;disposableResource&lt;/code&gt;의 관리&lt;/li&gt;
&lt;li&gt;명시된 &lt;code class=&quot;language-text&quot;&gt;disposeResource&lt;/code&gt;의 사용 및 해제&lt;/li&gt;
&lt;/ol&gt;
&lt;h4&gt;&lt;code class=&quot;language-text&quot;&gt;Symbol&lt;/code&gt; 정의&lt;/h4&gt;
&lt;p&gt;현재 &lt;code class=&quot;language-text&quot;&gt;dispose&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;asyncDispose&lt;/code&gt;로 정의된 &lt;code class=&quot;language-text&quot;&gt;Symbol&lt;/code&gt;은 &lt;code class=&quot;language-text&quot;&gt;core-js&lt;/code&gt;에 있는 정의를 활용합니다. 해당 파일은 WellKnownSymbol로 &lt;code class=&quot;language-text&quot;&gt;dispose&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;asyncDispose&lt;/code&gt;를 선언합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;core-js/modules/esnext.symbol.dispose.js&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;core-js/modules/esnext.symbol.async-dispose.js&quot;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// WellKnownSymbol로 `dispose`, &apos;asyncDispose`를 선언합니다.&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// core-js/moduekls/esnext.symbol.dispose.js&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;defineWellKnownSymbol&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;dispose&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// core-js/moduekls/esnext.symbol.async-dispose.js&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;defineWellKnownSymbol&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;asyncDispose&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;&lt;code class=&quot;language-text&quot;&gt;disposable-stack&lt;/code&gt;을 활용하기&lt;/h4&gt;
&lt;p&gt;이러한 명시적 관리는 &lt;code class=&quot;language-text&quot;&gt;disposable-stack&lt;/code&gt;으로 명명된 stack을 통해 내부에서 관리하고 있습니다. 실제 내부 코드는 제외하고 사용하는 함수를 표기하겠습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;core-js/modules/esnext.disposable-stack.constructor.js&quot;&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;defineBuiltIns&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;DisposableStackPrototype&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// Dispose Resource 객체를 생성합니다.&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;dispose&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;dispose&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// Stack에 담겨 있는 동기 Dispose Resource 객체를 꺼내와 dispose method를 실행합니다.&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// Stack에 담겨 있는 비동기 Dispose Resource 객체를 꺼내와 dispose method를 실행합니다.&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;adopt&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;adopt&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;value&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; onDispose&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// Stack에 담겨 있는 비동기 Dispose Resource 객체를 골라 지연합니다.&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;defer&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;defer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;onDispose&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// 해당 Stack의 instance가 다 비워지면 다음 Stack을 찾아 이동합니다. Stack은 블록 단위로 구성됩니다.&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;move&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;move&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;실제 TypeScript에서 폴리필을 구성해 주는 코드입니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; __addDisposableResource &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;__addDisposableResource&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;env&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;생략&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
     &lt;span class=&quot;token comment&quot;&gt;// built-in으로 되어있는 DisposableResource를 등록합니다.&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; value
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; __disposeResources &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;__disposeResources&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;SuppressedError&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;env&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;// built-in으로 되어있는 disposeResource 함수를 실행합니다.&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// Error 전달&lt;/span&gt;
    SuppressedError
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h1&gt;Outro&lt;/h1&gt;
&lt;p&gt;TypeScript5.2에서 폴리필을 구성해서 실제 &lt;code class=&quot;language-text&quot;&gt;core-js&lt;/code&gt;에 구현된 부분까지 훑어보았습니다. &lt;code class=&quot;language-text&quot;&gt;using&lt;/code&gt;을 아직 한 번도 사용해 본 적이 없거나, &lt;code class=&quot;language-text&quot;&gt;using&lt;/code&gt;을 막 도입하여 패턴을 변경하고 싶은 분들에게 필요한 내용들이 되었으면 합니다.&lt;/p&gt;
&lt;p&gt;내일은 마침 추석 연휴가 시작되는 날입니다. 모두 즐거운 한가위 되셨으면 합니다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[JavaScript의 using을 사용해 보자 - Part 1]]></title><description><![CDATA[글 목록 JavaScript의 using을 사용해 보자 - Part 1 JavaScript의 using을 사용해 보자 - Part 2 Intro 퇴근하기 직전, “JOKER…]]></description><link>http://onepredict.github.io/using-keyword/</link><guid isPermaLink="false">http://onepredict.github.io/using-keyword/</guid><pubDate>Wed, 20 Sep 2023 11:00:00 GMT</pubDate><content:encoded>&lt;h3&gt;글 목록&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;JavaScript의 using을 사용해 보자 - Part 1&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;a href=&quot;/using-keyword-part2&quot;&gt;JavaScript의 using을 사용해 보자 - Part 2&lt;/a&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h1&gt;Intro&lt;/h1&gt;
&lt;p&gt;퇴근하기 직전, “JOKER” 님과 “부엉이” 님이 이야기하는 것을 옆에서 얼핏 듣게 되었습니다. 두 분이 이야기한 내용들은 추상 클래스로 다형성을 처리하는 방법으로 시작해서 팩토리 패턴을 스프링에서 어떻게 다루고 있는가를 건너 건너가 트랜잭션을 관리하는 방식의 차이로 까지 여정을 마무리하고 있었습니다.(긴 여정이었어… 더 깊은 내용이 궁금합니다.)&lt;/p&gt;
&lt;p&gt;DB 트랜잭션을 다룰 때, &lt;em&gt;Spring&lt;/em&gt; 에서는 &lt;code class=&quot;language-text&quot;&gt;@Transaction&lt;/code&gt;어노테이션을 통해 매직처럼 관리가 되고 있는데, &lt;em&gt;python&lt;/em&gt; 에서는 connection을 직접 관리해야 되고 &lt;code class=&quot;language-text&quot;&gt;with&lt;/code&gt;라는 키워드를 써야 한다는 이야기를 듣게 됩니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 225px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/1e65fef7beb0c370f7a5d41f5194d8ae/3684f/hmm.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAADjklEQVR42mWU729TVRjH71/AC5NBolGYg4FMwDm2KUthY7Vb1/a2hRfjBWpEY9T4A3xnFn0hBBnMsbIhU4P4C7O5wAt+jCYOkwFb23vv+ouViRgJEAypwHpvR3+t93x9zr1rR+LJyck57fN5nu95zvNcAeXBdFr0Yl6/f0X/84Ae2aXLXihexN7EX914OAE9XzYzh1DaGD+lp/H3HkRtCFsRdyAuQnZAakewBcFWJD6EdnXRuAQbh38vzE/azh1c9+V7a/e/tab/o5rwDxZEXExyMknUQ6IesLJQG5IXyohgymD3xyHbHl22D39eJx1vun2mdczX+JuvAWEXm3Jh2o2EB9e24aqbzPBg3NRvRM7dQ7gTkh2KiOveTMh595wV1zyMTBVnerz9Yn/jyL7akb21yvebCxNtiHRyZEH2rWMINENxM8mBKdfR3TU7LMuiP1sQFel497x17xurOpuWDuxe2/129fhgEyJb9ZtfGfC8huhOnhXZBdlJoT7dWWXf8MTYkUaSWpjswIxnaF/t9oaK413raZ+fdEC2I/oq5tMCtBikNpOk3FA0ytOJT9alL7VT2GKIcu7299Zvf6mClCMm6mRDxoRoMQHJUQSt/LYU1pykNu5mslMPOnS6iOIshBzXR5qzgQ7a8wBkTEhyVMC90/wZTZj+C9j1QAeRFIQnOca9GEc3U0reOdxCIEX28wKQRZDLiDs7sjF9rLo40T7za3Pw200zQ1vyhnJGa1kaGROS9Au8qsxsERwW82c3aYeeejBUP/Dx87731/S8s/qz11bKVC3ES2XYxZH0tIBiBrFd/MCz5cmdqp/tfjJ3ugGJbWzag7gncdIS8L2IS63scZKQYsZ45zvfYXILIt6C36L2raBZ8G8u/r41e6ph7kRN/ptVOd8z2mB16cJuXhSELBRJ4SHirxfHmtS+SrV3uXrkWe3oylTv8lTP09pA1dxP63NnXtYv26AYt5Vs/JELsyZsdIU2lfmljqxVX6V6eIV6mLsgPnNyA2IeygW9ORQPL2GaKdnsDaHcopnz76YOVai+KlM5eSFf2eE6hIkR+VUpw8RTY5cQA9aLtOSVwdQXS9T+6gWYR67MDr8AxYZAC6gZ/+hC5qb53Xisnxk/sLyW/vEVzvcZsnuWze5fUrjoxY0u3Poa6USJYf/7khi8rv2TGf1A7V+tDjw3N+zNXjnAHiUXAZLKFkka/wHMumoyYIs5pAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;흠...어디서 들어봤는데?&quot;
        title=&quot;&quot;
        src=&quot;/static/1e65fef7beb0c370f7a5d41f5194d8ae/3684f/hmm.png&quot;
        srcset=&quot;/static/1e65fef7beb0c370f7a5d41f5194d8ae/c26ae/hmm.png 158w,
/static/1e65fef7beb0c370f7a5d41f5194d8ae/3684f/hmm.png 225w&quot;
        sizes=&quot;(max-width: 225px) 100vw, 225px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;JavaScript에서도 요새 비슷한 걸 추진하는 것 같았는데, &lt;code class=&quot;language-text&quot;&gt;using&lt;/code&gt;이라는 키워드였습니다. 글 쓰기 주제로 갑자기 생각이 들었습니다. 이걸로 문서를 쓰자!&lt;/p&gt;
&lt;h1&gt;&quot;using&quot; keyword 어디로 부터 왔는가?&lt;/h1&gt;
&lt;p&gt;2018년 7월 24일 TC39&lt;sup id=&quot;fnref-주1&quot;&gt;&lt;a href=&quot;#fn-주1&quot; class=&quot;footnote-ref&quot;&gt;주1&lt;/a&gt;&lt;/sup&gt;에서 해당 기능에 대한 첫 미팅을 진행하고, stage 1 승인이 이루어집니다. 해당 문서를 읽어보면 이 기능을 “왜” 넣었는지 아주 잘 설명해 주고 있습니다. 문서는 위에서부터 읽는 것이 국룰이지만 흥미를 돋구기 위해 잠깐은 건너가 해당 선행 기술의 컨셉부터 한 번 보면 좋을 것 같아요.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;선행 기술&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;C#&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;using&lt;/code&gt; statement, declaration&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Java&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;try-with-resources&lt;/code&gt; statement&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Python&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;with&lt;/code&gt; statement&lt;/p&gt;
&lt;p&gt;각각의 항목을 찾아보면, 다음과 같습니다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;C#&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;using&lt;/code&gt; 키워드의 주요 용도는 두 가지입니다.
&lt;code class=&quot;language-text&quot;&gt;using&lt;/code&gt; 문은 개체가 삭제되는 끝의 범위를 정의합니다.
&lt;code class=&quot;language-text&quot;&gt;using&lt;/code&gt; 지시문은 네임스페이스의 별칭을 만들거나 네임스페이스에 정의된 형식을 가져옵니다.
&lt;sup id=&quot;fnref-주2&quot;&gt;&lt;a href=&quot;#fn-주2&quot; class=&quot;footnote-ref&quot;&gt;주2&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Java&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The try-with-resources statement is a try statement that declares one or more resources. A resource is an object that must be closed after the program is finished with it. The try-with-resources statement ensures that each resource is closed at the end of the statement. Any object that implements java.
&lt;sup id=&quot;fnref-주3&quot;&gt;&lt;a href=&quot;#fn-주3&quot; class=&quot;footnote-ref&quot;&gt;주3&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Python&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The with statement is used to wrap the execution of a block with methods defined by a context manager (see section With Statement Context Managers). This allows common try…except…finally usage patterns to be encapsulated for convenient reuse.
&lt;sup id=&quot;fnref-주4&quot;&gt;&lt;a href=&quot;#fn-주4&quot; class=&quot;footnote-ref&quot;&gt;주4&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;p&gt;사용법 및 정도의 차이는 있지만, 대략 공통의 이야기들은 블록 내에서 정의한 &lt;code class=&quot;language-text&quot;&gt;resource&lt;/code&gt;를 관리하는 statement를 제공해 주고, 해당 블록이 끝날 때, &lt;code class=&quot;language-text&quot;&gt;resource&lt;/code&gt;가 닫히도록 보장하며, 명시적으로 작성하는 기능을 포함하고 있습니다. 그렇다면 JavaScript 스펙으로 진행 중인 &lt;code class=&quot;language-text&quot;&gt;using&lt;/code&gt; keyword도 비슷하지 않을까? 맞습니다. 다른 언어들이 가지고 있는 기능을 토대로 현재 제안을 진행 중입니다.&lt;/p&gt;
&lt;h1&gt;어디에서 쓸까? 왜 필요하지?&lt;/h1&gt;
&lt;p&gt;예를 들어 보겠습니다. 우리는 지금 DB에 접근하여, Posts collection을 가져오는 함수를 하나 작성한다고 해보죠.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getPosts&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// db 에 접근을 해보자&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; db &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;connectToDatabase&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// posts 를 가져와야지..?&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; collection &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; db&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;collection&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;posts&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; posts &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; collection&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;limit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toArray&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// 다 가져온 것 같아 이제 내보내자&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; posts
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;위 함수는 이상하게 느껴질 것입니다. 한 번 곰곰이 읽어보며 문제를 찾아봅시다. 문제는 많아 보이겠지만, 하나를 찾아보자면 우선 connect 된 db를 close 하는 부분이 없습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getPosts&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// close 를 해줘볼까? Profit!&lt;/span&gt;
db&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; posts&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;문제가 해결 되었을까요?&lt;/p&gt;
&lt;p&gt;만약 posts를 찾아오는 과정에서 문제가 생기면 어떻게 될까요?&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;close 까지 도달하지 못한다면?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/90f0dcc9e428cfb41f30c627d25323ca/6af66/pow.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 56.32911392405063%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA9hAAAPYQGoP6dpAAAClUlEQVR42mWSa2hPYRzHjzdezAukSEKSXN9Imkt4wQvFXHJ9Yctl1twi1yEvpJQmlFxC25TkzYimZqutISmiRmO2TGxuY/tv5/8/57mc53z8zn//opzOt9PpfM/3+Xyf3+Odmz2I9tNT4V0hqmIKpnAI5vx4Ar+E8OkCzOE89O1pqEwV6to6gpNTyZyfg39pIZnyfMITMwiOTSfYN5n0zkl4NxYNpmn3JL41bCVo342qmYt6MQsVVWHiB6jUfgJ7HEMLQd0R/HuL8BsL8Z+Ukn64kfSd5QQX56HLJmN3TMC7sySPR4vzeLdiOOGGMejT+QTdmwl6SjH2PtbVY1QDJlNH+KUcnapH9zUSpqpRX28Qtp4UiALs2ZmYsil4dcuG8nbdSPqLxmG2jEQfHEvQVoTfs5pQlQtZLcq/JQscxfIGYrnjCOdCYmfk2YP+KdtRuxx1eS7e84Jh/F47CrN9NMHtTdiOeqxpJ/y9B/VhKbp5KUYCHSms7cRFvgRFOVkRRK4L1bqXsGYVXkfxRMLKAnlZT6Q+klyxUETRJ3RXKeqVbPyPEiI+C00/LhYyMSSUWQll4jd991CPN+L9KpuHVa+wuh35TmwGqohHqHoI4sv0mxIZ0k0JU7mg+B+5rDcyzejX2/B6Vw7DVmzD2V4JyhkSOY2y1TKYuxJ2AeNqhVBJvd7/A5NGsTR6W4wXHp2O2TUC8/JUdqVkbwZqgXYPssfHuc/yQ9fAMGIrirLf/9JKIN/RHw7gmZZidPchTDqp5GcNkeuTurIvQQ06vD5QyXVKaBL8S/RFjtN78dpcMNmh6bYyPG2q0bEcYu5nTS5OCaXDxsnk1mCezcd0VwrpFdFVUQVhcIag/yAmapIwlSP8Jv4D/AEQE/AEYmB2ygAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;폭탄쾅&quot;
        title=&quot;&quot;
        src=&quot;/static/90f0dcc9e428cfb41f30c627d25323ca/f058b/pow.png&quot;
        srcset=&quot;/static/90f0dcc9e428cfb41f30c627d25323ca/c26ae/pow.png 158w,
/static/90f0dcc9e428cfb41f30c627d25323ca/6bdcf/pow.png 315w,
/static/90f0dcc9e428cfb41f30c627d25323ca/f058b/pow.png 630w,
/static/90f0dcc9e428cfb41f30c627d25323ca/6af66/pow.png 640w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이런 문제들을 방지하기 위해서 JavaScript에서는 이런 &lt;code class=&quot;language-text&quot;&gt;resource&lt;/code&gt;를 어떻게 관리 했을까요?
실제로, &lt;code class=&quot;language-text&quot;&gt;resource&lt;/code&gt;에 대한 관리가 필요한 경우 JavaScript에서는 &lt;code class=&quot;language-text&quot;&gt;try..catch..finally&lt;/code&gt;를 많이 사용하고는 했습니다.&lt;/p&gt;
&lt;p&gt;다음은 &lt;code class=&quot;language-text&quot;&gt;try..catch..finally&lt;/code&gt;를 적용해 보겠습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getPosts&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; db

  &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    db &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;connectToDatabase&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; collection &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; db&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;collection&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;posts&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; posts &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; collection&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;limit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toArray&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; posts
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;error&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;error&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;finally&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; db&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;문제는 해결된 것처럼 보입니다. 물론 db를 연결하고, 해제하는 영역에 대해서 저러한 보일러 플레이트가 생기는 것을 제외하고는 말이죠. 유사하게 이렇게 connect가 열리는 부분에서는 지속적인 고민이 생기기 마련입니다. 파일 스트림을 받는다든지, 또는 resource를 공유하는 worker 들 사이들에서도 해당 고민은 발생할 수 있습니다. 혹시 이러한 resource 타입에 따라서 관리하는 방법들이 제각각이라면 하나의 방법으로 명시적인 관리를 하면 어떨까요? 여기에서 이 명세의 동기가 시작됩니다.&lt;/p&gt;
&lt;p&gt;위에서는 사용을 위한 예시를 보았습니다. 흥미가 생겼으면 좋겠네요. 그 궁금함을 갖고 조금은 딱딱한 공식 문서를 들여다보겠습니다. TC-39에 제시된 문서의 제목과 동기를 읽어보면 다음과 같습니다.&lt;/p&gt;
&lt;h3&gt;제목: ECMAScript 명시적 리소스 관리&lt;/h3&gt;
&lt;h3&gt;동기&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;리소스 관리에 대한 일관적이지 않은 패턴&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ECMAScript Iterators: iterator.return()&lt;/li&gt;
&lt;li&gt;WHATWG Stream Readers: reader.releaseLock()&lt;/li&gt;
&lt;li&gt;NodeJS FileHandles: handle.close()&lt;/li&gt;
&lt;li&gt;Emscripten C++ objects handles: Module._free(ptr) obj.delete() Module.destroy(obj)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;resource를 관리할 때, footguns&lt;sup id=&quot;fnref-주5&quot;&gt;&lt;a href=&quot;#fn-주5&quot; class=&quot;footnote-ref&quot;&gt;주5&lt;/a&gt;&lt;/sup&gt; 피하기&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; reader &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; stream&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getReader&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
reader&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;releaseLock&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// try/finally 가 있어야 함.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;resource의 범위를 잡을 때&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; handle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// handle 을 쓰는데 적당합니다.&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;finally&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    handle&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// handle을 쓰는데 적당하지 않습니다만 아직도 스코프 내에 있어요.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;여러 개의 resource를 관리 할 때, footguns 피하기&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; a &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; b &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;finally&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    a&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 만약 `b.close()` 가 a 에 의존하고 있다면, 문제가 있습니다.&lt;/span&gt;
    b&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 만약 `a.close()` 가 발생하면, `b` 에 영원히 도달하지 않습니다.&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;여러 리소스를 올바르게 관리할 때 긴 코드 방지&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;
&lt;span class=&quot;token comment&quot;&gt;// sync disposal&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 블록은 바깥 스코프에서 `a` 나 `b` 의 누수를 방지합니다.&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; a &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; b &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;finally&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            b&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// `b`의 경우, `a` 이전에 `b`가 닫혀있는지 확인하세요.&lt;/span&gt;
                       &lt;span class=&quot;token comment&quot;&gt;// `a` 에 의존합니다.&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;finally&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        a&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// `b.close()` 가 발생하더래도 `a` 가 닫혀 있는지 확인 하세요.&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// `a` 와 `b` 모두 스코프를 벗어났습니다.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;비교&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// `a` 또는 `b` 가 외부 스코프로 유출되는 것을 방지합니다.&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// `b` 가 `a`에 종속되는 경우 `b` 가 `a` 보다 먼저 배치 되도록 보장합니다.&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// &apos;b&apos; 가 처리 되더라도, &apos;a&apos; 가 처리되도록 보장합니다.&lt;/span&gt;
using a &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; b &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// async sync disposal&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 블록은 바깥 스코프에서 `a` 나 `b` 의 누수를 방지합니다.&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; a &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; b &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;finally&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// `b`의 경우 이전에 &apos;b&apos; 이전에 &apos;a&apos; 가 닫혔는지 확인합니다.&lt;/span&gt;
                             &lt;span class=&quot;token comment&quot;&gt;// `a`에 의존합니다.&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;finally&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; a&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// `b.close()` 가 발생하더라도 &apos;a&apos; 가 닫혀있는지 확인합니다.&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// `a` 와 `b` 모두 스코프를 벗어났습니다.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;비교&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// `a` 또는 `b` 가 외부 스코프로 유출되는 것을 방지합니다.&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// `b` 가 `a`에 종속되는 경우 `b` 가 `a` 보다 먼저 배치 되도록 보장합니다.&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// &apos;b&apos; 가 처리 되더라도, &apos;a&apos; 가 처리되도록 보장합니다.&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; using a &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; b &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Non-blocking memory/IO 어플리케이션에서&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; ReaderWriterLock &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;...&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; lock &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ReaderWriterLock&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;readData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// 뛰어난 작가를 기다리며, read lock 을 걸어둡니다.&lt;/span&gt;
  using lockHandle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; lock&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;read&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 많은 수의 reader 들&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// `await` 후에도 여전히 read lock 상태입니다.&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// read lock을 해제&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;writeData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// 모든 reader 들을 기다리고 write lock 을 걸어둡니다.&lt;/span&gt;
  using lockHandle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; lock&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;write&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 단 한명의 writer&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// `await` 후에도 여전히 write lock 상태입니다.&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// write lock을 해제&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Fixed Layout Objects와 shared struct를 함께 사용해야 될 때&lt;sup id=&quot;fnref-주6&quot;&gt;&lt;a href=&quot;#fn-주6&quot; class=&quot;footnote-ref&quot;&gt;주6&lt;/a&gt;&lt;/sup&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// main.js&lt;/span&gt;
shared struct &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;SharedData&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  ready &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  processed &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; worker &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Worker&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;worker.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; m &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Atomics&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Mutex&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; cv &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Atomics&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ConditionVariable&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;SharedData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
worker&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;postMessage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; m&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; cv&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; data &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// worker로 data 보내기&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// &apos;m&apos;의 잠금을 main 이 얻을 때까지 기다리기&lt;/span&gt;
  using lck &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; m&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;lock&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// worker 를 위해 데이터에 표기&lt;/span&gt;
  data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ready &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;main is ready&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// &apos;m&apos; 잠금 해제&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// 잠재적인 worker에게 알리기&lt;/span&gt;
cv&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;notifyOne&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// &apos;m&apos;의 잠금을 다시 획득&lt;/span&gt;
  using lck &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; m&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;lock&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// &apos;m&apos;의 잠금을 풀고, worker 가 처리를 끝낼 때 까지 기다립니다.&lt;/span&gt;
  cv&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;wait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;m&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;processed&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// &apos;m&apos; 잠금 헤제&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// worker.js&lt;/span&gt;
&lt;span class=&quot;token function-variable function&quot;&gt;onmessage&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; m&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; cv&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; data &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data

  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// &apos;m&apos;의 잠금을 main 이 얻을 때까지 기다리기&lt;/span&gt;
    using lck &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; m&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;lock&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// &apos;m&apos;의 잠금을 풀고 main() 에 데이터를 보낼 때 까지 기다립니다.&lt;/span&gt;
    cv&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;wait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;m&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ready&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// 기다린 후에, 우리는 &apos;m&apos; 의 자물쇠를 다시 한 번 얻었습니다.&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;worker thread is processing data&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// main 으로 다시 데이터를 보내기&lt;/span&gt;
    data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;processed &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;worker thread is done&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// &apos;m&apos; 잠금 헤제&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;위의 예시를 해소하기 위해서 도입을 추진하게 됩니다.&lt;/p&gt;
&lt;p&gt;원문이 궁금하신 분들을 위하여, 각주로 링크를 첨부합니다.&lt;sup id=&quot;fnref-주7&quot;&gt;&lt;a href=&quot;#fn-주7&quot; class=&quot;footnote-ref&quot;&gt;주7&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;h1&gt;그래서…? 좋은 건 알겠어. 당장 쓰러 가자!&lt;/h1&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0b482ea0794b04c5b248cd9bd231fa6b/187fa/gonow.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 50.632911392405056%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAACoklEQVR42jWS20tUURTGzz6XOWccL+NoM1raWJrjzBk0mwoU7UYUJhldpJsS6lORiqKh3chKyCJSu2FplAg+aERvXSCiC9hNiBIzEjMsiOihv+DXdgYfvv2ttffa3/5YeymqprIAoYooVF2TrLB5bREN+2qwM0PomoFhGWi6jtBlrS5ikHUL94RQUBRTLg4JmQhFQZUH83Eww8/b0Uf8eDXJYFMf6QmLEQ6B7pKCLimYIDlePhwv4zgJU8aGihKuqSKvdj/2gR2kRmySc/woSS5W2yvpqe/iSuNlKkoqcZqJUWeq141I9yDSJLxyL9FCpEqe3/fEowz+/kbd5Dh9f2Y4NTXOuU9j7Lw/TOOxTt4NPaGrvoPthXvYWlARda4HchGhICIYRA2sQPWlIiwToUmH3mSU9s9jBF88p+37FGdnJtg98YmBfz95+OgF74efcb2hh/LCKsJLwmieZFyV1SQebSaxoYWE+mas0hJUpyPWLjsP5cT7l6x5/YrOuWkufvlI2fgH7v+dofXNGP3XRnl84SEloS2opsBcXYzn2BnSrg7g675JyqVu4ip2yH7Gyc+QghvWo7S8fkrWyDDtv6Zply67fs9y+88sp+e+0tv/gKZdzXhSFmHFGaRX1+HrvEjSkUY8bSdwd3RgbS+XgvFRQbGpFCWrbCPmugi+mr1knGpl2/njFNzqo/LGdYYu9HHv5AjZ/kIMOR5Jtk1CaXG0l5rtx9pXgVG0EuG0Yg4joXlWokm0yKlhud1krgiSkxXkdGsbd3rvcqj6MNW1BykpLZLzKtAMC8PrwREJoPm9cly0mMOMlHkdOcgOgzSfj9xl2YRygqwK5BNYupzsXJuCyCbs/CLC+cXk5IYxnS50IwnTTMHlTsNwuVC0mClhqfwHWw9WEpHIyDoAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;당장 하자&quot;
        title=&quot;&quot;
        src=&quot;/static/0b482ea0794b04c5b248cd9bd231fa6b/f058b/gonow.png&quot;
        srcset=&quot;/static/0b482ea0794b04c5b248cd9bd231fa6b/c26ae/gonow.png 158w,
/static/0b482ea0794b04c5b248cd9bd231fa6b/6bdcf/gonow.png 315w,
/static/0b482ea0794b04c5b248cd9bd231fa6b/f058b/gonow.png 630w,
/static/0b482ea0794b04c5b248cd9bd231fa6b/40601/gonow.png 945w,
/static/0b482ea0794b04c5b248cd9bd231fa6b/187fa/gonow.png 1194w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;다만 문제가 조금 있습니다. 아쉽게도 해당 기능은 아직은 TC-39 stage 3 라는 것. 아직 정식으로 Javascript 기능에 포함되지 않았습니다. 하지만, 당장 써볼 수 있는 곳이 있습니다.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://devblogs.microsoft.com/typescript/announcing-typescript-5-2/#using-declarations-and-explicit-resource-management&quot;&gt;타입스크립트 5.2 using&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;아직 나온 지 한 달(23년 9월 기준) 정도 된 따뜻한 타입스크립트 기능입니다.&lt;/p&gt;
&lt;p&gt;5.2에 해당 기능을 서포트하는 기능이 추가되었습니다.&lt;/p&gt;
&lt;h1&gt;Outro&lt;/h1&gt;
&lt;p&gt;내용을 다 읽으신 분, 또는 글을 밑에서부터 읽는 것을 좋아하시는 분에게 선물을 드리자면 사실 1부작 같은 2부작 이었습니다.&lt;/p&gt;
&lt;p&gt;그렇습니다. 시리즈 입니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/6166e3124cc243f63f69d1ad96465fce/0b533/machamne.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 98.73417721518987%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAACkklEQVR42pWU/UtTURjH9+dE0AtBKET9ZGAghdSGytQyXVpR+TKbOZjeSmyUg0A0Kg2cJaFY/VCGiKiNinRubndz3ttsGaIZpdZ0u9u9387u7qpd79p24N7Dec45n/M8z/c5R4WMmxD/CzyYZ1ZssAvSWEhapUqLIRtiH8/z4KNR0bYy8RZsx8P4PLFnBfzrm0gXu6B/Cd66dggKa1Uyd/5sSoTyYmgYrY3XMGjtx4zNJto2PSzsBTpEtkNJByl6KIYgLeBJN9hB4eWdBpirtRgfGxPtzDkT/FTnDtgO4Nb6KrhQMA7jOLFf9tnh7KOw7htF6NMKGE0dfFo9OMk7RVESiQ2MPgfba0U0FJGgEfyYncfklVp4GxuwcKgUvqM6BJdXpWiEFDmUTokEt7DYPQC6ygi22QK2vBnM3lNgc7VgckqxeKAYS20P4jtl6qYWhbRfbAB+Sy8CXQP4ePM+6H0aLB6pAEPAnuMXEd74qRiuIlCI8knwKBnTOgquPYXw7FfDXUzyFw4rCpKyDmM5FUgR8+G4MGsjb+DYVQCahP/Z1P1PiSEzYFIJxcpkZBLvj1XCk3MS3qoW8LIUZQRM5Ce4HcZVcz9u3O5Bj8EA+umg/P5kBuQl76ZmfCiouYtKQzdyCo344JhPms8aOD3HoKi2E/W3niC/ogNDr6fjYmULTIT8nZTIGcqKGvNjaA1dKDM+IspHMiwbhVeG+7qGNt11GEsaQZE7fDjvMvqGx9PclBQwv6kNzhNFcNU2Ya6sGk51OWz5arwqqsaa7V36x0EOZPVGzObmwXFJDztlhr2pBe52C9wlZ2HffRCbDLvjkf1vyDFhvk1MiZ56L9SD1pTDdboG9Pk6fLnXA47cfbmXvwGuE7h3br4XRgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;마참내&quot;
        title=&quot;&quot;
        src=&quot;/static/6166e3124cc243f63f69d1ad96465fce/0b533/machamne.png&quot;
        srcset=&quot;/static/6166e3124cc243f63f69d1ad96465fce/c26ae/machamne.png 158w,
/static/6166e3124cc243f63f69d1ad96465fce/6bdcf/machamne.png 315w,
/static/6166e3124cc243f63f69d1ad96465fce/0b533/machamne.png 500w&quot;
        sizes=&quot;(max-width: 500px) 100vw, 500px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;다음 문서에서는 타입스크립트를 활용해서 실제로 명시적인 코드들을 어떻게 쓰는지 알아보는 시간을 갖도록 하겠습니다.&lt;/p&gt;
&lt;p&gt;그럼.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/8ea295912866db0a00b622592610823b/5bb8b/bye.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 68.35443037974683%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABJ0AAASdAHeZh94AAADyUlEQVR42iWQ60+TZxjG339jn5Ys+7AsO31YsgNfSIwxMXK0QBFhulkOBQqVwlQawWxmZAsji8I0MN1sKQVaaKG00MPbA9DaCXJmwhxyHNMCHUXlJP3tXfxw5Zfrue/7ynPfQuqpJGSnZWTIMsjMzESeKSMrQ4ZcnkWWPFtiDrln8zh37hxfnldw4UIR+QXFFOQXoywqQ6m8iEqloeJiNaoSDUKbZRSTY1bSNB2OGazueSyuOcwDj/CJIpPeFhyO+1jFv7B4HmP3L9MfWMM+uIor+BRn8Bm+36OEp3bxBdcROkwiJssQpm6fxAB3frPQ2KRHZ3AxJd5gffg6VvMAdosXsduNr8uGv9uDyxrE0RvG3vuAfscYftcMTksYoddowGrsoqu9D62mihMJH5GW+C6XFWdYEbWETDcwt9pxd1oZMppZ8dQz12vAZ3AStvoJmj1Sj8hD2xCBdg/CQl8JS04t9ts/kp34Pt8XfciYPhn3jZM8c+Uyom/A86sOr86I2GpgwduOuV5LQ0UejVc0PDDoWHHdYrZTR7i1C+GZuZrYQDFRTy7Gmk8ZuZdIzJfEuuMEEY+CiZY6xu828rD5JlMdd9gYF5nqVBMNVmK8ksykoZ7t4E2W2lv4Q6dHeNpWy3rrNSKWi+wGFSzbTrIznMTfYi4bIQ1PPHUs2xtYbf+Oub6fWA3peTF/l2joGmveW7ycC/Gkq4Vodwv/mG4hbPdoiPVoed5Tzb5DTTyYD1PZRFxy1pxfEfFr2Lapwa1mb6iWR456VoZ17P8psjdmZH/4Z17Yr0PgOjH3VYRDbwEMFksPpcT95Rx4CzkI5hDTf8BWWyIRWw5RQzLTjafpuJaBsUFJ06U8Ju6VSzMqjrxlxIcr4P4ltt2VCAcjRTBZwtGEFCiRGSWHoS/YaX6Ll7ffYPv2m7y89w6dlZ9RmvQJVfIESlM+pvtqIoyU8CpcLkkKHJcCw1VS4EwhLBQTX1QRXy6DlVKO5vPZaXuPbcPbvAicYm80i82ADP3V43xzPoGavM/pqD0G84XSnJqjpUp4eoXY468RdhcVHEUKOdxQ8mqrmMOtQvbXFcQepvJ8JoPDSD57m80crP3A87F01kYvMSt+S7gjhVeb0jYbKg42pLX/VbO1WCbdcFe6H9KX4xWvSflrxS4Qj5yBo1rJh6R6E+wpYLdO8q2Svyzxf1UTj2sl1rATq0aYDqczP3mG2YmzTE1kMzmSxVg4g1F3CiHzMYIuNYPOUgbdpwh4MnEajtP7SwKevjTctnT6bakM2NLwDsjo78nkP55CRqs/Y1kXAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;다음에 또 만나요&quot;
        title=&quot;&quot;
        src=&quot;/static/8ea295912866db0a00b622592610823b/f058b/bye.png&quot;
        srcset=&quot;/static/8ea295912866db0a00b622592610823b/c26ae/bye.png 158w,
/static/8ea295912866db0a00b622592610823b/6bdcf/bye.png 315w,
/static/8ea295912866db0a00b622592610823b/f058b/bye.png 630w,
/static/8ea295912866db0a00b622592610823b/5bb8b/bye.png 749w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;footnotes&quot;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&quot;fn-주1&quot;&gt;tc39 프로세스라고도 불립니다. &lt;a href=&quot;https://tc39.es/&quot;&gt;사이트&lt;/a&gt;&lt;a href=&quot;#fnref-%EC%A3%BC1&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;
&lt;li id=&quot;fn-주2&quot;&gt;&lt;a href=&quot;https://learn.microsoft.com/ko-kr/dotnet/csharp/language-reference/keywords/using&quot;&gt;마이크로소프트 C# 원문&lt;/a&gt; 에서 발췌&lt;a href=&quot;#fnref-%EC%A3%BC2&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;
&lt;li id=&quot;fn-주3&quot;&gt;&lt;a href=&quot;https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html&quot;&gt;오라클 원문&lt;/a&gt; 에서 발췌&lt;a href=&quot;#fnref-%EC%A3%BC3&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;
&lt;li id=&quot;fn-주4&quot;&gt;&lt;a href=&quot;https://docs.python.org/3/reference/compound_stmts.html#with&quot;&gt;파이선 원문&lt;/a&gt; 에서 발췌&lt;a href=&quot;#fnref-%EC%A3%BC4&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;
&lt;li id=&quot;fn-주5&quot;&gt;자기 발등 찍기 &lt;a href=&quot;https://matt-rickard.com/avoiding-footguns&quot;&gt;참고 글1&lt;/a&gt;, &lt;a href=&quot;https://en.wiktionary.org/wiki/footgun&quot;&gt;참고 글2&lt;/a&gt;&lt;a href=&quot;#fnref-%EC%A3%BC5&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;
&lt;li id=&quot;fn-주6&quot;&gt;아직은 stage1 spec에 머물고 있습니다 &lt;a href=&quot;https://github.com/tc39/proposal-structs&quot;&gt;Proposal Structs&lt;/a&gt;&lt;a href=&quot;#fnref-%EC%A3%BC6&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;
&lt;li id=&quot;fn-주7&quot;&gt;&lt;a href=&quot;https://github.com/tc39/proposal-explicit-resource-management&quot;&gt;ECMAScript Explicit Resource Management Proposal&lt;/a&gt;&lt;a href=&quot;#fnref-%EC%A3%BC7&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Hello, world!]]></title><description><![CDATA[브라이언 커니핸과 데니스 리치의 기념비적인 프로그래밍 서적 “The C Programming
Language…]]></description><link>http://onepredict.github.io/hello-world/</link><guid isPermaLink="false">http://onepredict.github.io/hello-world/</guid><pubDate>Sat, 16 Sep 2023 11:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 200px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/5a2a9bf8229107d8fa96d8c15ad4e55e/772e8/tcpl.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 140.50632911392407%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAcCAIAAADuuAg3AAAACXBIWXMAAAsTAAALEwEAmpwYAAACeElEQVR42qVUaU/bQBDN///ab63aSohSCbUICgUkjgooV0I4cjQnCY7jI4mvtb2213ukYxto0gYR6Gq1Go/m7cx7ntmcaZphFAUvXAABYA6s8asWAHMBxq8EYzwbLMbjKGaUccYFbPEiMOXioK6uXUnvDpv5Wz27bu7MYmzh6HbolvuW4YYvK5vErNLq75xWd8+qpaYckXhesBDix0Xj/erx8k7x697l25Wf+4X682CRSiPr1sLG2fphCYeEMb6fr8MVjoczOk+CM12rHfXD2vF5uTOp0/OCZeBaV/v47eSg2MqcI9vTRohS9mzZyWkh//N2YWm70JR0deQs71x82jz3cPhX/hmCZfh6V1vaykPxUMLi5nmlrUyK8geMcaaE4IJnlXMusvzt3qAh6SbywQGopNXuw5IA/AhGAVk4bb/Zqx01tC8X3UrfWDy9remoKBnfS/316952SV4p3m2V5ZOWxjifAmNCmzraq6kVxbqSzJueuVtVfilWWTbynWFZTpzXvVFdc25kM07Fw4+cMzIWJhBaVW1Arl5KJ63BQUNrD+yNG7nQGa4Vu5O/bYoznBFlsukpNjb9SHMC1cGag50g6g5d3cF3hpeyvg/GT/X2K+c5uXiiq8SEIeacqnkzI9cLKYsZCwkNCI1iCmKSdIMTVAhInNoc7DBmQQSflDDu+35ON6ye4SqWq9qgii+brmKiu5HTGdqq5dl+CIZkIN32BsgHT2foqJYLYZaD/uH8xAxNx4hZg/HfagvgljBnDMhHQC89KZs5ktOPPvQtdAW0uh/FsJ2AoJCAB+wZjz5CiEGSh0VjeK8phzc7SZbuh894YgEEgL8BY1lJ8KqPUocAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;The C Programming Language&quot;
        title=&quot;&quot;
        src=&quot;/static/5a2a9bf8229107d8fa96d8c15ad4e55e/772e8/tcpl.png&quot;
        srcset=&quot;/static/5a2a9bf8229107d8fa96d8c15ad4e55e/c26ae/tcpl.png 158w,
/static/5a2a9bf8229107d8fa96d8c15ad4e55e/772e8/tcpl.png 200w&quot;
        sizes=&quot;(max-width: 200px) 100vw, 200px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;브라이언 커니핸과 데니스 리치의 기념비적인 프로그래밍 서적 “The C Programming
Language”&lt;sup id=&quot;fnref-주1&quot;&gt;&lt;a href=&quot;#fn-주1&quot; class=&quot;footnote-ref&quot;&gt;주1&lt;/a&gt;&lt;/sup&gt;는 우리에게 하나의 문화를 선물했습니다.
새로운 기술을 만났다면, 무엇보다도 제일 먼저 세상을 향해 인사해야 한다는
것이죠.
설령 동방예의지국에 살지 않는다고 해도&lt;sup id=&quot;fnref-주2&quot;&gt;&lt;a href=&quot;#fn-주2&quot; class=&quot;footnote-ref&quot;&gt;주2&lt;/a&gt;&lt;/sup&gt;, 엔지니어링이란 말에
심장이 뛰는 모든 사람이라면 누구나 인사부터 해야 하는 겁니다.&lt;/p&gt;
&lt;p&gt;인사말은 ISO 9899에 따라 “Hello, world”로 정의됩니다&lt;sup id=&quot;fnref-주3&quot;&gt;&lt;a href=&quot;#fn-주3&quot; class=&quot;footnote-ref&quot;&gt;주3&lt;/a&gt;&lt;/sup&gt;.
“Hi”는 너무 짧고, “How do you do”는 너무 깁니다.
하지만 “Hello”는 적절하고, 아름답습니다.
우아하게 균형 잡힌 인사말을 고안하기 위해 노력하며 흘린 피, 땀, 눈물이
고스란히 느껴집니다.
이 인사말 안에, 유한한 세계에서 필멸자로 살아가는 엔지니어의 운명&lt;sup id=&quot;fnref-주4&quot;&gt;&lt;a href=&quot;#fn-주4&quot; class=&quot;footnote-ref&quot;&gt;주4&lt;/a&gt;&lt;/sup&gt;인,
트레이드오프의 정수가 담긴 것 같습니다.&lt;/p&gt;
&lt;p&gt;“World”는 또 어떤가요?
우리가 만나게 될, 우리가 영향을 끼치게 될 대상을 이보다 더 명확히 표현할 수
있을까요?
게다가 우리는 바로 그 세계에 속하고, 우리는 우리가 속한 세계를 변화시킵니다.
즉, 스스로를 바꿔나가게 되는 거죠.
우리는 우로보로스와같이 무한한 순환고리 안에서 종종 이 세계가, 그리고 우리가
변했다는 사실을 깨닫고 다시금 인사를 건네게 됩니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&quot;Hello&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; world!&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;sup id=&quot;fnref-주5&quot;&gt;&lt;a href=&quot;#fn-주5&quot; class=&quot;footnote-ref&quot;&gt;주5&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Hello, world!&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;sup id=&quot;fnref-주6&quot;&gt;&lt;a href=&quot;#fn-주6&quot; class=&quot;footnote-ref&quot;&gt;주6&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;p&gt;우리는 평생 몇 번이나 “Hello, world!” 프로그램을 작성하게 될까요?
얼마나 자주, 얼마나 크게 세상에 영향을 끼치게 될까요?&lt;/p&gt;
&lt;p&gt;안심할 수 있는 산업 현장을 꿈꾸는 원프레딕트의 기술적 고민을 이 블로그에서
함께 나누길 기대합니다. Hello! 👋&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/acc27a4eb24d11f8427177a43424ef77/8c557/grandbow.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 55.69620253164557%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACm0lEQVR42i2OWVNSAQBGLyjKJgYM+3pjU1YhEJAdZLssFxhQUAi4IobLiAmpiGI6bUNUSiE2WQ9O40yLTjnTY78tHnr+zjnzAWY1p1qEGpupvFeeMzHjJlY1q0MWjOW86cvLZK8R7B9EHsWUWR/nJCOuLlnWsrp0TFuM2zVsCqDk05qQHglreKAg5Ve06+7Whu3JVrBRtr7fcX44CHZPEuYpLmzjHid4CKws+sEcNBFSsPj4EcDMxpZkxIiGLCBjtgu2tydzmwXT8324UrMWC5rqsnE+ZZCKmUoJ9XhehCSUacu4hocLSXF6LhEICYkIfdwtIKeczI24aELOfJg2thtRa5yn8dIfL9B8eiqPQ51SsLr7s+1m4GhFp1fQ3+zY13MPAAphKEkeLRgoZ3Vup0zTyynIgmkDcRAAgAsScxE67GTdBxnTOkH3MNCuObaLhrhXcvVurl6aARi44XUH9QgBoy5O2sF2atm5pK5Zg3IOUdDGW81wUh4aYYyokrOuXkEZSIIdQTkM7F7Lt7tsAo7s0rxDUI3yYRsficv3lgzhgKwEq/5WvLfVwLNm4mkdthlFcyHVzSkccwqBwSMa/vXWzFpKBoRBKgGPaRbU/Yb1awc+O/QlrOCfWuzHinfRLfrcTh1WAwHX5GbR/vtTod/wTEvvZf2Si5Zne3ESwA6jBzGngfu9E77pZc5fxCuQ+nrZY1Yw1Ara7XkW9qsGAI9Nur3I310W98oOr026mtIelLTAEBo12CA7+PMU/vUxe9Vd9Go5kImvUDDkYmqvFQjaRaQxLIE42lgxx7yyEdwogEZRMOjVWfF/OeQUX3ei386Sd5dILjFltwjdFpBFJ+xXZvq7rrJLmA/JIy4ZiYTD4zGYYTQKBfgFxH+b67PZiRMGxQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;그랜절&quot;
        title=&quot;&quot;
        src=&quot;/static/acc27a4eb24d11f8427177a43424ef77/f058b/grandbow.png&quot;
        srcset=&quot;/static/acc27a4eb24d11f8427177a43424ef77/c26ae/grandbow.png 158w,
/static/acc27a4eb24d11f8427177a43424ef77/6bdcf/grandbow.png 315w,
/static/acc27a4eb24d11f8427177a43424ef77/f058b/grandbow.png 630w,
/static/acc27a4eb24d11f8427177a43424ef77/8c557/grandbow.png 700w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;footnotes&quot;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&quot;fn-주1&quot;&gt;번역서는 아쉽게도 절판됐습니다.&lt;br&gt;
…로 알고 있었는데, 도서출판 인사이트 대표님께서 해당 도서가
완전히 새로운 이름으로 다시 나왔다고 알려주셨습니다.
&lt;a href=&quot;http://aladin.kr/p/jbDSE&quot;&gt;http://aladin.kr/p/jbDSE&lt;/a&gt;&lt;br&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 400px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 68.9873417721519%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAABz0lEQVR42qVTy67aMBDl27vqopuuuulfdFupXVWCVGJx3wl5hzxJIARCEts5nTEEsahU0WvpMJMZ+8yxZ5iBVt/36LqOXYzjqKGUuuKeNeuJ6Of3b5j/+gHHtTGfL7BYGFgulzCM31gYBqSU/ySSUmkhs/Z4wKePH/D1y2fE8Rp+uIZlu3D9UPtltb1PIf+YpgXPdXVAqRFCSH1VrkiPcB8hX6dpGuzqGjWB/e12q3E4nH2O7fd77HY7/c0+x+rLmbKq0LbtmVAIoRWapokgCOD7DB8uKbYdBx75L6+vGkmawvM82hciy3JYqxVWBD/w0Z5Ol6ZQhzkRhiHiJIFtO0TkavKHh0c8P7/AIeIwisDFp6eYJoBvOFlNyEmthoje3kyYlkUVA1Liw7JWCKgQ+xERPj49wSWFnOdb6f1k+WwYRmdCnj8+yAdY5TAMVwWsaJrL8dIwpeR1Xm/z07zORnJO7RFi6PWG966ZpNL7biQoNGTrk0Ivx/8npFugOkqUhKqV2JAd1DsU8pvlxQZZXqCiGduUFdZJhihOEac5sqJEQbE032i7jmMkWUFz2/ydkB+0HwSEVPofwn7XD9QcgUEwpI7zt87fxBQ34wa8/gDUgDWpVX7SxAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;@insightbook&quot;
        title=&quot;&quot;
        src=&quot;/static/a04fe254760151804a29e5166892cd79/e17e5/insightbook.png&quot;
        srcset=&quot;/static/a04fe254760151804a29e5166892cd79/c26ae/insightbook.png 158w,
/static/a04fe254760151804a29e5166892cd79/6bdcf/insightbook.png 315w,
/static/a04fe254760151804a29e5166892cd79/e17e5/insightbook.png 400w&quot;
        sizes=&quot;(max-width: 400px) 100vw, 400px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;&lt;a href=&quot;#fnref-%EC%A3%BC1&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;
&lt;li id=&quot;fn-주2&quot;&gt;엔지니어가 모두 한국인일 거라 생각하는 건 편견입니다.&lt;a href=&quot;#fnref-%EC%A3%BC2&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;
&lt;li id=&quot;fn-주3&quot;&gt;거짓말입니다.&lt;a href=&quot;#fnref-%EC%A3%BC3&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;
&lt;li id=&quot;fn-주4&quot;&gt;어떤 아이템과 유사하지만 다름에 유의!&lt;br&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 347px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/8cd8035cbec749b2dd87232654218c63/39e45/immortal.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 66.45569620253164%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB6ElEQVR42oVRyXKbQBDtYRHDMixiNUJowUiAQMhiMYqcKEqVLk5clUt+IJX//4bMWI6dkz31qutNT79epoEXDYGzVOwR3RsOn/ZNt87KTbVLVwWADLz6HrDkdMXPh/bX2Iofvz8ejw/FZtv3Q7W9A8DofbHAW/X97/Pxj0HCG1ucTuN8U0tYBRCA1z6ozPEah9SRYIqCSoiuEFu3fGGkI+EjJQVgC8IExhMwAhB0QDLFa7c0xT+8Xf8TSyboASg2KA7rk1MAKcxy6jNkBpZReiG88qYfSST03cBzQ98Lg8Aw7eU8Cnw/mgRRGGRFla6LdV7SL4zi5TLJdNOjBVl2KlY0syqWt8u4WM2zdDYeO8N+vUpmfUdP+/T0o2n78/n88PlL1w+Xy+V0OtN1ZnklYgO8YHo8HOpt3VBf2+V5+e3riRIaOgyHaLKQsIllkxc0STY13VWIQwxX0WxOJMCPdFG1JcPDuisRh1pMHJlx6nQ5SQeRzkaAhiLMJr8CRqxz0F1YbSArYbGC7h52LSRrqHaorKHcod2ea3pEyV2DnBBhEykWA51cMgAsH9HnwxE1HWp7WKQwTyHJIM0hTiCI0ZXPbl9stIBpApsarADA9FlZGkc1NzH7SV5hK+GeF3bl1+W9OhnH1P4F8s85CqnbBPUAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;필멸자의 운명&quot;
        title=&quot;&quot;
        src=&quot;/static/8cd8035cbec749b2dd87232654218c63/39e45/immortal.png&quot;
        srcset=&quot;/static/8cd8035cbec749b2dd87232654218c63/c26ae/immortal.png 158w,
/static/8cd8035cbec749b2dd87232654218c63/6bdcf/immortal.png 315w,
/static/8cd8035cbec749b2dd87232654218c63/39e45/immortal.png 347w&quot;
        sizes=&quot;(max-width: 347px) 100vw, 347px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;a href=&quot;#fnref-%EC%A3%BC4&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;
&lt;li id=&quot;fn-주5&quot;&gt;Flake8은 &lt;code class=&quot;language-text&quot;&gt;print&lt;/code&gt; 사용을 지양합니다.
&lt;a href=&quot;https://docs.astral.sh/ruff/rules/print/&quot;&gt;https://docs.astral.sh/ruff/rules/print/&lt;/a&gt;&lt;a href=&quot;#fnref-%EC%A3%BC5&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;
&lt;li id=&quot;fn-주6&quot;&gt;ESLint는 &lt;code class=&quot;language-text&quot;&gt;console&lt;/code&gt; 사용을 지양합니다.
&lt;a href=&quot;https://eslint.org/docs/latest/rules/no-console&quot;&gt;https://eslint.org/docs/latest/rules/no-console&lt;/a&gt;&lt;a href=&quot;#fnref-%EC%A3%BC6&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;</content:encoded></item></channel></rss>